<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
        <form id="myForm" enctype="multipart/form-data">
            <div>
                <textarea name="contenu"></textarea>
            </div>
            <div>
                <input type="file" name="images" multiple>
            </div>
            <div>
                <button type="submit">Enregistrer</button>
            </div>
        </form>
        <script>
            document.getElementById("myForm").addEventListener('submit', e => {
                e.preventDefault()
                const formData = new FormData(e.target)

                fetch("http://localhost:8080/api/posts", {
                    method: "POST",
                    headers: {
                        authorization: "eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjY3NjQyMTlhMzA4YzAzOTVkYjA3N2M0NCIsInVzZXJOYW1lIjoiUmF5IENvbmRvbmVzIiwicHNldWRvIjoiQnJ1Y2VEcm9wRW1PZmYiLCJpYXQiOjE3MzQ2MTU5MTF9.dCFrwRbvxQ9BnaqDHzJJuzqj5Aev8YeW8M1bh39LH3QTBesAE-KmCf73V521ZXfLLJ8iPgilXz0GZMwgqrv-F_rM-2t1fUFJug-0bYccWqZqBIFthJhpdFGBMnSGphO01VT_rWbY0YZO-LpcPf7xf_WNex-f7Fi-p9DwizGD77Q4iiJuiwDL1ocFrCtzf2B4i5H39X0oTlJLCQ_nCnWGjjK-ONomsSOF8e2CowqI8Xhv-b5ZYnsoTIaKLLolGInGr55uq29yDjSpp8QamfN-EX1t4exbUsFUmC2xAaPu__k0SIr2nE8Kf17U-hXejUzZ6fvWrC1WPMupUQcYVgSX4VzFV1Fa3HNvP0AJa6ohU619eZ87_EeSsjvnMhTG-UFARKXc14r2LWRNktXyu7tf3gsBkgnzKRCN8lQa3G2KazOmIVBBONJCzGCSdEnV8e8mBoG-lG7AwYWe_4bUhdwDrZgAA-jvHM8J6hqJvvNv-jP3A0uVTxbhANOpu-l6WG86g0TTkftwjyw5E-wrrDyb8BvgpBvTA7GPDwMgeqxID_hiCGBuBWgAZzcenlI1Lq8Kg0vPyiLKdiZOwVANVgudjOUm3kgMvFe9NfVBe6ArCpHaIkaiXceipm2ziTLQr0JGXK-Exqezm7GTPsTBG0qkH4V0CejIxkPbc8LBJmS843w",
                    },
                    body: formData
                })
                .then(rep => rep.json())
                .then(data => console.log(data))
                .catch(err => console.log(err))
            })
        </script>
</body>
</html>